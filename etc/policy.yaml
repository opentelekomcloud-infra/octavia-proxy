# This policy.yaml will revert the Octavia API to follow the legacy
# admin-or-owner RBAC policies.
# It provides a similar policy to legacy OpenStack policies where any
# user or admin has access to load-balancer resources that they own.
# Users with the admin role has access to all load-balancer resources,
# whether they own them or not.

# Role Rules
#"context_is_admin": "role:admin or role:load-balancer_admin"
#"admin_or_owner": "is_admin:True or project_id:%(project_id)s"
"load-balancer:member_and_owner": "(role:te_admin and rule:load-balancer:owner)"
  #"load-balancer:read": "(rule:load-balancer:observer_and_owner or rule:load-balancer:global_observer or rule:load-balancer:member_and_owner or rule:load-balancer:admin)",

# Rules
#"load-balancer:read": "rule:admin_or_owner"
#"load-balancer:read-global": "is_admin:True"
#"load-balancer:write": "rule:admin_or_owner"
#"load-balancer:read-quota": "rule:admin_or_owner"
#"load-balancer:read-quota-global": "is_admin:True"
#"load-balancer:write-quota": "is_admin:True"

  #"os_load-balancer_api:provider:get_all": "rule:load-balancer:read"
  #"os_load-balancer_api:loadbalancer:get_all": "rule:admin_or_owner"
